{"ast":null,"code":"import React,{useState}from\"react\";import Animate from\"../Components/Animate\";import{Outlet}from\"react-router-dom\";import ClaimLeveler from\"../Components/ClaimLeveler\";import Spinner from\"../Components/Spinner\";import coinsmall from\"../images/coinsmall.webp\";import{useUser}from\"../context/userContext\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";const Ref=()=>{const{id,referrals,loading}=useUser();// eslint-disable-next-line\nconst[claimLevel,setClaimLevel]=useState(false);const[copied,setCopied]=useState(false);const copyToClipboard=()=>{const reflink=\"https://t.me/plutotap_bot?start=r\".concat(id);if(navigator.clipboard&&navigator.clipboard.writeText){navigator.clipboard.writeText(reflink).then(()=>{setCopied(true);setTimeout(()=>setCopied(false),10000);// Reset the copied state after 2 seconds\n}).catch(err=>{console.error('Failed to copy text: ',err);});}else{// Fallback method\nconst textArea=document.createElement('textarea');textArea.value=reflink;document.body.appendChild(textArea);textArea.select();try{document.execCommand('copy');setCopied(true);setTimeout(()=>setCopied(false),2000);// Reset the copied state after 2 seconds\n}catch(err){console.error('Failed to copy',err);}document.body.removeChild(textArea);}};const formatNumber=num=>{if(num<100000){return new Intl.NumberFormat().format(num).replace(/,/g,\" \");}else if(num<1000000){return new Intl.NumberFormat().format(num).replace(/,/g,\" \");}else{return(num/1000000).toFixed(3).replace(\".\",\".\")+\" M\";}};return/*#__PURE__*/_jsx(_Fragment,{children:loading?/*#__PURE__*/ // Display loading indicator if data is fetching\n_jsx(Spinner,{}):/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(Animate,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"w-full justify-center flex-col space-y-3 px-5\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex space-y-0 flex-col justify-center items-center\",children:[/*#__PURE__*/_jsxs(\"h1\",{className:\"text-[#fff] -mb-2 text-[42px] font-semibold\",children:[referrals.length,\" Users\"]}),/*#__PURE__*/_jsx(\"span\",{className:\"text-[#6ed86e] font-semibold text-[16px]\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"w-full bg-cards rounded-[12px] px-3 py-4 flex flex-col\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"w-full flex justify-between items-center pb-2\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-[18px] font-semibold\",children:\"My invite link:\"}),/*#__PURE__*/_jsx(\"span\",{onClick:copyToClipboard,className:\"bg-gradient-to-b from-[#094e9d] to-[#0b62c4] font-medium py-[6px] px-4 rounded-[12px] flex items-center justify-center text-[16px]\",children:copied?/*#__PURE__*/_jsx(\"span\",{children:\"Copied!\"}):/*#__PURE__*/_jsx(\"span\",{children:\"Copy\"})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-[#9a96a6] text-[13px]\",children:[\"https://t.me/plutotap_bot?start=r\",id]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-borders w-full px-5 h-[1px] !mt-6\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"w-full flex flex-col\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-[22px] font-semibold pb-[16px]\",children:\"My Referrals:\"}),/*#__PURE__*/_jsx(\"div\",{className:\"w-full flex flex-col space-y-3\",children:loading?/*#__PURE__*/_jsx(\"p\",{className:\"w-full text-center\",children:\"checking...\"}):referrals.length===0?/*#__PURE__*/_jsx(\"p\",{className:\"text-center w-full now pt-8 px-5 text-[14px] leading-[24px]\",children:\"You don't have referrals\\uD83D\\uDE2D\"}):/*#__PURE__*/_jsx(_Fragment,{children:referrals.map((user,index)=>/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-cards rounded-[10px] p-[14px] flex flex-wrap justify-between items-center\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-1 flex-col space-y-1\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-[#fff] pl-1 text-[16px] font-semibold\",children:user.username}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-1 text-[14px] text-[#e5e5e5]\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"\",children:/*#__PURE__*/_jsx(\"img\",{src:user.level.imgUrl,alt:\"bronze\",className:\"w-[18px]\"})}),/*#__PURE__*/_jsx(\"span\",{className:\"font-medium text-[#9a96a6]\",children:user.level.name}),/*#__PURE__*/_jsx(\"span\",{className:\"bg-[#bdbdbd] w-[1px] h-[13px] mx-2\"}),/*#__PURE__*/_jsx(\"span\",{className:\"w-[20px]\",children:/*#__PURE__*/_jsx(\"img\",{src:coinsmall,className:\"w-full\",alt:\"coin\"})}),/*#__PURE__*/_jsx(\"span\",{className:\"font-normal text-[#ffffff] text-[15px]\",children:formatNumber(user.balance)})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-[#ffce68] font-semibold text-[14px]\",children:[\"+\",formatNumber(user.balance/100*10)]}),/*#__PURE__*/_jsx(\"div\",{className:\"flex w-full mt-2 p-[4px] items-center bg-energybar rounded-[10px] border-[1px] border-borders\",children:/*#__PURE__*/_jsx(\"div\",{className:\"h-[10px] rounded-[8px] bg-btn w-[.5%]\"})})]},index)}))})})]}),/*#__PURE__*/_jsx(ClaimLeveler,{claimLevel:claimLevel,setClaimLevel:setClaimLevel})]}),/*#__PURE__*/_jsx(Outlet,{})]})})});};export default Ref;","map":null,"metadata":{},"sourceType":"module"}