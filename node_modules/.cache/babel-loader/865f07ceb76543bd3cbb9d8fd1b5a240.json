{"ast":null,"code":"import React,{useEffect,useState}from'react';import Animate from'../Components/Animate';import{Outlet}from'react-router-dom';import coinsmall from\"../images/coinsmall.webp\";import taskbook from\"../images/taskbook.webp\";import{MdOutlineKeyboardArrowRight}from'react-icons/md';import{db}from'../firebase';import{doc,getDoc}from'firebase/firestore';import Spinner from'../Components/Spinner';import TaskOne from'../Components/TaskOne';import ClaimLeveler from'../Components/ClaimLeveler';import Levels from'../Components/Levels';import{IoCheckmarkSharp}from\"react-icons/io5\";import congrats from\"../images/celebrate.gif\";import{useUser}from'../context/userContext';import MilestoneRewards from'../Components/MilestoneRewards';import ReferralRewards from'../Components/Rewards';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";const Tasks=()=>{const{id,balance,refBonus,taskCompleted,level,setTaskCompleted,taskCompleted2,setTaskCompleted2}=useUser();// eslint-disable-next-line\nconst[loading,setLoading]=useState(false);const[showModal,setShowModal]=useState(false);const[showModal2,setShowModal2]=useState(false);// eslint-disable-next-line\nconst[claimLevel,setClaimLevel]=useState(false);const[showLevels,setShowLevels]=useState(false);// eslint-disable-next-line\nconst[message,setMessage]=useState(\"\");const taskID=\"task_3100\";// Assign a unique ID to this task\nconst taskID2=\"task_3000\";// Assign a unique ID to this task\nconst[activeIndex,setActiveIndex]=useState(1);const handleMenu=index=>{setActiveIndex(index);};const taskOne=()=>{setShowModal(true);document.getElementById(\"footermain\").style.zIndex=\"50\";};const taskTwo=()=>{setShowModal2(true);document.getElementById(\"footermain\").style.zIndex=\"50\";};useEffect(()=>{checkTaskCompletion(id,taskID).then(completed=>{setTaskCompleted(completed);if(completed){setMessage(\"\");}});checkTaskCompletion(id,taskID2).then(completed=>{setTaskCompleted2(completed);if(completed){setMessage(\"\");}});console.log('my userid is:',id);// eslint-disable-next-line\n},[]);const checkTaskCompletion=async(id,taskId,taskId2)=>{try{const userTaskDocRef=doc(db,'userTasks',\"\".concat(id,\"_\").concat(taskId));const userTaskDocRef2=doc(db,'userTasks',\"\".concat(id,\"_\").concat(taskId2));const docSnap=await getDoc(userTaskDocRef,userTaskDocRef2);if(docSnap.exists()){return docSnap.data().completed;}else{return false;}}catch(e){console.error('Error checking task completion: ',e);return false;}};const levelsAction=()=>{setShowLevels(true);document.getElementById(\"footermain\").style.zIndex=\"50\";};const formatNumber=num=>{if(num<100000){return new Intl.NumberFormat().format(num).replace(/,/g,\" \");}else if(num<1000000){return new Intl.NumberFormat().format(num).replace(/,/g,\" \");}else{return(num/1000000).toFixed(3).replace(\".\",\".\")+\" M\";}};return/*#__PURE__*/_jsx(_Fragment,{children:loading?/*#__PURE__*/_jsx(Spinner,{}):/*#__PURE__*/_jsxs(Animate,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"w-full justify-center flex-col space-y-3 px-5\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"fixed top-0 left-0 right-0 pt-8 px-5\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex space-x-2 justify-center items-center relative\",children:[/*#__PURE__*/_jsx(\"div\",{id:\"congrat\",className:\"opacity-0 invisible w-[80%] absolute pl-10 ease-in-out duration-500 transition-all\",children:/*#__PURE__*/_jsx(\"img\",{src:congrats,alt:\"congrats\",className:\"w-full\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"w-[50px] h-[50px]\",children:/*#__PURE__*/_jsx(\"img\",{src:coinsmall,className:\"w-full\",alt:\"coin\"})}),/*#__PURE__*/_jsx(\"h1\",{className:\"text-[#fff] text-[42px] font-extrabold\",children:formatNumber(balance+refBonus)})]}),/*#__PURE__*/_jsxs(\"div\",{onClick:levelsAction,className:\"w-full flex ml-[6px] space-x-1 items-center justify-center\",children:[/*#__PURE__*/_jsx(\"img\",{src:level.imgUrl,className:\"w-[25px] relative\",alt:\"bronze\"}),/*#__PURE__*/_jsx(\"h2\",{className:\"text-[#9d99a9] text-[20px] font-medium\",children:level.name}),/*#__PURE__*/_jsx(MdOutlineKeyboardArrowRight,{className:\"w-[20px] h-[20px] text-[#9d99a9] mt-[2px]\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-borders w-full px-5 h-[1px] !mt-5 !mb-5\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"w-full border-[1px] border-borders rounded-[10px] p-1 flex items-center\",children:[/*#__PURE__*/_jsx(\"div\",{onClick:()=>handleMenu(1),className:\"\".concat(activeIndex===1?'bg-cards':'',\"  rounded-[6px] py-[12px] px-3 w-[33%] flex justify-center text-center items-center\"),children:\"Special\"}),/*#__PURE__*/_jsx(\"div\",{onClick:()=>handleMenu(2),className:\"\".concat(activeIndex===2?'bg-cards':'',\"  rounded-[6px] py-[12px] px-3 w-[33%] flex justify-center text-center items-center\"),children:\"Leagues\"}),/*#__PURE__*/_jsx(\"div\",{onClick:()=>handleMenu(3),className:\"\".concat(activeIndex===3?'bg-cards':'',\"  rounded-[6px] py-[12px] px-3 w-[33%] flex justify-center text-center items-center\"),children:\"Ref Tasks\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"!mt-[204px] w-full h-[60vh] flex flex-col\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"\".concat(activeIndex===1?'flex':'hidden',\" alltaskscontainer flex-col w-full space-y-2\"),children:[/*#__PURE__*/_jsxs(\"div\",{onClick:taskOne,className:\"bg-cards rounded-[10px] p-[14px] flex justify-between items-center\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-1 items-center space-x-2\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"\",children:/*#__PURE__*/_jsx(\"img\",{src:taskbook,alt:\"tasks\",className:\"w-[50px]\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col space-y-1\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"font-semibold\",children:\"Join Our Socials\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-1\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"w-[20px] h-[20px]\",children:/*#__PURE__*/_jsx(\"img\",{src:coinsmall,className:\"w-full\",alt:\"coin\"})}),/*#__PURE__*/_jsx(\"span\",{className:\"font-medium\",children:\"50 000\"})]})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"\",children:taskCompleted?/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(IoCheckmarkSharp,{className:\"w-[20px] h-[20px] text-[#5bd173] mt-[2px]\"})}):/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(MdOutlineKeyboardArrowRight,{className:\"w-[20px] h-[20px] text-[#e0e0e0] mt-[2px]\"})})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-cards rounded-[10px] p-[14px] flex justify-between items-center\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-1 items-center space-x-2\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"\",children:/*#__PURE__*/_jsx(\"img\",{src:taskbook,alt:\"taskbook\",className:\"w-[50px]\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col space-y-1\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"font-semibold\",children:\"Subscribe To Community\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-1\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"w-[20px] h-[20px]\",children:/*#__PURE__*/_jsx(\"img\",{src:coinsmall,className:\"w-full\",alt:\"coin\"})}),/*#__PURE__*/_jsx(\"span\",{className:\"font-medium\",children:\"100 000\"})]})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"\",children:taskCompleted2?/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(IoCheckmarkSharp,{className:\"w-[20px] h-[20px] text-[#5bd173] mt-[2px]\"})}):/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(MdOutlineKeyboardArrowRight,{className:\"w-[20px] h-[20px] text-[#e0e0e0] mt-[2px]\"})})})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"\".concat(activeIndex===2?'flex':'hidden',\" alltaskscontainer flex-col w-full space-y-2\"),children:/*#__PURE__*/_jsx(MilestoneRewards,{})}),/*#__PURE__*/_jsx(\"div\",{className:\"\".concat(activeIndex===3?'flex':'hidden',\" alltaskscontainer flex-col w-full space-y-2\"),children:/*#__PURE__*/_jsx(ReferralRewards,{})})]}),/*#__PURE__*/_jsx(TaskOne,{showModal:showModal,setShowModal:setShowModal}),/*#__PURE__*/_jsx(ClaimLeveler,{claimLevel:claimLevel,setClaimLevel:setClaimLevel}),/*#__PURE__*/_jsx(Levels,{showLevels:showLevels,setShowLevels:setShowLevels})]}),/*#__PURE__*/_jsx(Outlet,{})]})});};export default Tasks;","map":null,"metadata":{},"sourceType":"module"}